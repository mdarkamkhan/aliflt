---
layout: base.liquid
pagination:
  data: collections.services
  size: 1
  alias: item # We call each service 'item'

# ðŸ’¡ FIX: Using the same permalink structure as product.liquid
# This will generate pages like /services/blouse-stitching/
permalink: "services/{{ item.fileSlug }}/"

eleventyComputed:
  # This sets the <title> tag for each page
  title: "{{ item.data.title }}" 
---

<div class="container section">
    
    <div class="product-detail-grid">
        
        <!-- Column 1: Image -->
        <div class="product-detail-image">
            <img src="{{ item.data.image | url }}" alt="{{ item.data.title }}">
        </div>
        
        <!-- Column 2: Info -->
        <div class="product-detail-info">
            <h1 class="product-detail-title">{{ item.data.title }}</h1>
            
            {% if item.data.price %}
                <span class="product-detail-price">â‚¹{{ item.data.price }}</span>
            {% endif %}
            
            {% if item.data.category %}
                <span class="product-detail-category">{{ item.data.category }}</span>
            {% endif %}

            <!-- "Book Now" Button -->
            <div class="product-detail-actions" style="grid-template-columns: 1fr;">
                <button class="btn-buy" id="bookNowBtn" 
                        data-service-title="{{ item.data.title | escape }}">
                    Book Now
                </button>
            </div>
        </div>
    </div>
</div>

<!-- 
==================================================
===== ðŸ’¡ NEW FULL-WIDTH ACCORDION ================
================================================== 
-->
<div class="product-accordion-container">

    <!-- 1. Service Information Accordion -->
    {% if item.data.service_information %}
    <details class="accordion-item" open> <!-- Starts open -->
        <summary class="accordion-summary">
            <h3 class="accordion-heading">Service Information</h3>
            <span class="accordion-caret">^</span>
        </summary>
        <div class="accordion-content">
            <div>
                <p class="accordion-description-text">{{ item.data.service_information }}</p>
            </div>
        </div>
    </details>
    {% endif %}

    <!-- 2. Related "Our Works" Gallery -->
    {% assign related_works = collections.works | where_exp: "work", "work.data.category == item.data.category" %}

    {% if related_works.size > 0 %}
    <details class="accordion-item" open>
        <summary class="accordion-summary">
            <h3 class="accordion-heading">Our Works</h3>
            <span class="accordion-caret">^</span>
        </summary>
        <div class="accordion-content">
            <div>
                <div class="works-gallery-container">
                    {% for work in related_works %}
                    <div class="work-gallery-item">
                        <img src="{{ work.data.image | url }}" alt="{{ work.data.title }}">
                        <p class="work-gallery-title">{{ work.data.title }}</p>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </details>
    {% endif %}
</div>
