---
layout: base.liquid
---

<div class="container section">
  <div class="product-detail-grid">

    <div class="product-detail-image">
      {% if image %}
        <img src="{{ image }}" alt="{{ title | escape }}" style="width:100%; border:1px solid #f0f0f0;">
      {% else %}
        <img src="/icons/icon-512x512.png" alt="Service">
      {% endif %}
    </div>

    <div class="product-detail-info" style="display: flex; flex-direction: column; justify-content: center;">
      
      <h1 class="product-detail-title" style="font-size: 2.2rem; margin-bottom: 5px; letter-spacing: 1px;">{{ title }}</h1>

      {% if price %}
        <p class="product-detail-price" style="font-size: 1.3rem; font-weight: 400; color: #333; margin-top: 10px;">
            Starting from ₹{{ price }}
        </p>
      {% endif %}

      {% if category %}
        <p class="product-detail-category" style="color:#888; text-transform: uppercase; letter-spacing: 2px; font-size: 0.8rem; margin-top: 0;">
            {{ category }}
        </p>
      {% endif %}

      <div class="product-detail-actions" style="margin-top: 30px;">
        {% assign wapp_text = "Hello ALiF, I would like to book the '" | append: title | append: "' service." %}
        
        <a href="https://wa.me/7250470009?text={{ wapp_text | url_encode }}" 
           target="_blank" 
           style="
               display: block;
               width: 100%;
               background-color: #000;
               color: #fff;
               text-align: center;
               padding: 18px 0;
               text-decoration: none;
               text-transform: uppercase;
               letter-spacing: 2px;
               font-size: 0.9rem;
               font-weight: 500;
               border: 1px solid #000;
               transition: all 0.3s ease;
               cursor: pointer;
           "
           onmouseover="this.style.backgroundColor='#fff'; this.style.color='#000';"
           onmouseout="this.style.backgroundColor='#000'; this.style.color='#fff';">
          BOOK SERVICE
        </a>
        
        <p style="text-align: center; font-size: 0.75rem; color: #777; margin-top: 10px; font-style: italic;">
            * Customization available on request
        </p>
      </div>

    </div>

  </div>
</div>

<div class="product-accordion-container" style="margin-top: 40px;">

  {% if service_information and service_information != "" %}
  <details class="accordion-item">
    <summary class="accordion-summary">
      <h3 class="accordion-heading">Service Details</h3>
      <span class="accordion-caret">^</span>
    </summary>
    <div class="accordion-content">
      <p class="accordion-description-text" style="padding: 15px 0;">
        {{ service_information }}
      </p>
    </div>
  </details>
  {% endif %}

  {% if description and description != "" %}
  <details class="accordion-item">
    <summary class="accordion-summary">
      <h3 class="accordion-heading">Description</h3>
      <span class="accordion-caret">^</span>
    </summary>
    <div class="accordion-content">
      <p class="accordion-description-text" style="padding: 15px 0;">
        {{ description }}
      </p>
    </div>
  </details>
  {% endif %}

  {% assign current_cat = category %}
  {% assign related_works = collections.work | where_exp: "work", "work.data.category == current_cat" %}

  {% if related_works.size > 0 %}
  <details class="accordion-item" open>
    <summary class="accordion-summary">
      <h3 class="accordion-heading">Our Recent Works</h3>
      <span class="accordion-caret">^</span>
    </summary>
    <div class="accordion-content">
        <div style="display: flex; overflow-x: auto; gap: 15px; padding: 20px 0; scrollbar-width: none;">
          {% for work in related_works %}
          <div style="min-width: 160px; border: 1px solid #eee; border-radius: 0; overflow:hidden;">
            <img src="{{ work.data.image }}" style="width:100%; height:200px; object-fit:cover;">
            <p style="font-size:0.75rem; text-align:center; padding:8px; margin:0; text-transform: uppercase; letter-spacing: 1px;">{{ work.data.title }}</p>
          </div>
          {% endfor %}
        </div>
    </div>
  </details>
  {% endif %}

</div>

{% assign current_item_url = page.url %}
{% assign similar_items = collections.service | where: "data.category", category | reverse %}

<div class="section" style="padding: 30px 20px; background: #fcfcfc; border-top: 1px solid #eee;">
    <h3 style="font-family: var(--font-accent); text-align: center; margin-bottom: 20px; font-weight: 400;">SIMILAR SERVICES</h3>
    
    <div style="display: flex; overflow-x: auto; gap: 15px; padding-bottom: 10px; -webkit-overflow-scrolling: touch; scrollbar-width: none;">
        {% assign count = 0 %}
        {% for item in similar_items %}
            {% if item.url != current_item_url %}
                <a href="{{ item.url }}" style="text-decoration: none; color: #000; min-width: 160px;">
                    <div style="aspect-ratio: 1/1.2; overflow: hidden; margin-bottom: 10px;">
                        <img src="{{ item.data.image }}" alt="{{ item.data.title }}" style="width: 100%; height: 100%; object-fit: cover;">
                    </div>
                    <p style="margin: 0; font-size: 0.9rem; text-align: center;">{{ item.data.title }}</p>
                    <p style="margin: 0; font-size: 0.85rem; text-align: center; color: #666;">₹{{ item.data.price }}</p>
                </a>
                {% assign count = count | plus: 1 %}
                {% if count == 12 %}{% break %}{% endif %}
            {% endif %}
        {% endfor %}
        
        {% if count == 0 %}
            <p style="text-align:center; width:100%; color:#777; font-size:0.9rem;">No similar services found.</p>
        {% endif %}
    </div>
</div>

{% assign ad_items = collections.service | where: "data.is_ad", true | reverse %}

{% if ad_items.size > 0 %}
<div class="section" style="padding: 30px 20px; background: #fff; border-top: 1px solid #eee;">
    <h3 style="font-family: var(--font-accent); text-align: center; margin-bottom: 20px; font-weight: 400;">YOU MAY ALSO LIKE</h3>
    
    <div style="display: flex; overflow-x: auto; gap: 15px; padding-bottom: 10px; -webkit-overflow-scrolling: touch; scrollbar-width: none;">
        {% assign ad_count = 0 %}
        {% for item in ad_items %}
            {% if item.url != current_item_url %}
                <a href="{{ item.url }}" style="text-decoration: none; color: #000; min-width: 160px;">
                    <div style="aspect-ratio: 1/1.2; overflow: hidden; margin-bottom: 10px; border: 1px solid #f0f0f0;">
                        <img src="{{ item.data.image }}" alt="{{ item.data.title }}" style="width: 100%; height: 100%; object-fit: cover;">
                    </div>
                    <p style="margin: 0; font-size: 0.9rem; text-align: center;">{{ item.data.title }}</p>
                    <p style="margin: 0; font-size: 0.85rem; text-align: center; color: #666;">₹{{ item.data.price }}</p>
                </a>
                {% assign ad_count = ad_count | plus: 1 %}
                {% if ad_count == 12 %}{% break %}{% endif %}
            {% endif %}
        {% endfor %}
    </div>
</div>
{% endif %}
