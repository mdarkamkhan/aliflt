<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Content Manager</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- ✅ Mobile responsive overrides for Decap CMS -->
    <style>
      /* Base Layout */
      body {
        margin: 0;
        font-family: system-ui, sans-serif;
        background: #f8f9fa;
      }

      /* Make layout full-width on mobile */
      .nc-app, .nc-collectionPage, .cms-editor {
        width: 100% !important;
        max-width: 100vw !important;
        overflow-x: hidden !important;
      }

      /* Sidebar collapsible for small screens */
      .nc-sidebar {
        position: relative !important;
        width: 100% !important;
        height: auto !important;
        display: flex !important;
        flex-wrap: wrap !important;
        justify-content: space-around;
        background: #fff;
        border-bottom: 1px solid #ddd;
        z-index: 1000;
      }

      .nc-sidebar a, .nc-sidebar button {
        flex: 1;
        text-align: center;
        padding: 8px 5px;
        font-size: 13px;
        border-radius: 6px;
      }

      /* Collection cards layout */
      .nc-collection {
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)) !important;
        gap: 12px !important;
        padding: 12px !important;
      }

      .nc-entryCard {
        border-radius: 12px !important;
        overflow: hidden !important;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
      }

      /* Buttons */
      .nc-button, button {
        padding: 10px 14px !important;
        border-radius: 8px !important;
        font-size: 14px !important;
      }

      /* Hide preview panel on mobile */
      .nc-previewPane {
        display: none !important;
      }

      @media (min-width: 768px) {
        .nc-previewPane {
          display: block !important;
        }
      }

      /* Top Navbar tweaks */
      .nc-header {
        flex-wrap: wrap;
        justify-content: center !important;
        padding: 6px !important;
        background: #fff;
        border-bottom: 1px solid #e0e0e0;
      }

      /* Better spacing for content */
      .nc-entryEditor, .nc-entryPage {
        padding: 12px !important;
      }

      /* Bottom bar for quick navigation */
      .mobile-bottom-nav {
        display: flex;
        justify-content: space-around;
        background: #fff;
        border-top: 1px solid #ccc;
        position: fixed;
        bottom: 0;
        width: 100%;
        height: 55px;
        align-items: center;
        z-index: 10000;
      }

      .mobile-bottom-nav button {
        background: none;
        border: none;
        font-size: 13px;
        color: #333;
      }

      .mobile-bottom-nav button.active {
        color: #007bff;
        font-weight: 600;
      }

      /* Prevent overlap */
      .nc-collectionPage {
        margin-bottom: 60px;
      }
    </style>
  </head>
  <body>
    <!-- Netlify CMS Script -->
    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

    <!-- Redirect script -->
    <script>
      (function() {
        if (document.location.hash.indexOf('invite_token') > -1) {
          document.location.pathname = '/admin/';
        }
      })();
    </script>

    <!-- ✅ Bottom mobile nav -->
    <div class="mobile-bottom-nav">
      <button onclick="location.hash='#/collections/offers'">Offers</button>
      <button onclick="location.hash='#/collections/products'">Products</button>
      <button onclick="location.hash='#/collections/services'">Services</button>
      <button onclick="location.hash='#/collections/works'">Works</button>
    </div>
  </body>
</html>
